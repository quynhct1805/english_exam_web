<!DOCTYPE html>
<html>
  <head>
    <title>Contact Form</title>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        // https://dashboard.emailjs.com/admin/account
        emailjs.init("3u1T_sU4lZjzA78Fo");
      })();
    </script>
    <script type="text/javascript">
      window.onload = function () {
        document
          .getElementById("contact-form")
          .addEventListener("submit", function (event) {
            event.preventDefault();
            // generate a five digit number for the contact_number variable
            this.contact_number.value = (Math.random() * 100000) | 0;
            // these IDs from the previous steps
            emailjs.sendForm("service_o30mpo7", "template_gkmtlzj", this).then(
              function () {
                console.log("SUCCESS!");
              },
              function (error) {
                console.log("FAILED...", error);
              }
            );
          });
      };
    </script>
  </head>
  <body>
    <form id="contact-form">
      <input type="hidden" name="contact_number" />
      <label style="display: none">Name</label>
      <input style="display: none" type="text" name="user_name" />
      <label>Email</label>
      <input type="email" name="user_email" />
      <label style="display: none">Message</label>
      <input name="message" value={{result}}></input>
      <input type="submit" value="Send" />
    </form>
  </body>
  <script type="text/javascript">
    let result = "";
    function makeid(length) {
      const characters =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      const charactersLength = characters.length;
      let counter = 0;
      while (counter < length) {
        result += characters.charAt(
          Math.floor(Math.random() * charactersLength)
        );
        counter += 1;
      }
      return result;
    }
    console.log(makeid(6));
    // document.getElementById("c").textContent = makeid(6);
  </script>
</html>
